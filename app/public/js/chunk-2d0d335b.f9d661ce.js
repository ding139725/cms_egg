(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d335b"],{"5c90":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"resourse"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showDialog(0)}}},[e._v(" 添加 ")]),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.resourseList}},[r("el-table-column",{attrs:{prop:"title",label:"名称",width:"180"}}),r("el-table-column",{attrs:{prop:"code",label:"提取码",width:"180"}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(r){return e.showDialog(t.row.id)}}}),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(r){return e.deleteResourse(t.row.id)}}})]}}])})],1),r("el-dialog",{attrs:{title:"收货地址",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.dialogClose}},[r("resourse-form",{attrs:{resourse:e.resourse}}),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveContent}},[e._v("确 定")])],1)],1)],1)},o=[],n=r("60b5"),a=(r("6a61"),r("b775")),i=function(){return a["a"].get("resourse")},u=function(e){return a["a"].delete("resourse/".concat(e))},c=function(e){return a["a"].post("resourse",e)},l=function(e,t){return a["a"].put("resourse/".concat(e),t)},d=function(e){return a["a"].get("resourse/".concat(e))},f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{attrs:{model:e.resourse}},[r("el-form-item",{attrs:{label:"资源名称"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.resourse.title,callback:function(t){e.$set(e.resourse,"title",t)},expression:"resourse.title"}})],1),r("el-form-item",{attrs:{label:"资源提取码"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.resourse.code,callback:function(t){e.$set(e.resourse,"code",t)},expression:"resourse.code"}})],1),r("el-form-item",{attrs:{label:"资源连接"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.resourse.url,callback:function(t){e.$set(e.resourse,"url",t)},expression:"resourse.url"}})],1)],1)},m=[],p={props:{resourse:{type:Object}}},b=p,g=r("5d22"),h=Object(g["a"])(b,f,m,!1,null,null,null),v=h.exports,w={name:"resourse",components:{"resourse-form":v},data:function(){return{resourseList:[],resourse:{title:"",code:0,url:""},isUpdate:0,dialogFormVisible:!1}},created:function(){this.LoadResourseList()},methods:{LoadResourseList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i();case 2:r=t.sent,s=r.data,e.resourseList=s.data.resourseList;case 5:case"end":return t.stop()}}),t)})))()},deleteResourse:function(e){var t=this;this.$confirm("你确定删除该资源吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(Object(n["a"])(regeneratorRuntime.mark((function r(){var s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,u(e);case 2:s=r.sent,o=s.data,2e4===o.code?(t.$message.success("数据已成功删除"),t.LoadResourseList()):t.$message.error("数据删除失败");case 5:case"end":return r.stop()}}),r)})))).catch((function(){t.$message.info("已取消删除")}))},addResourse:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c(e.resourse);case 2:r=t.sent,s=r.data,2e4===s.code?(e.$message.success("添加数据成了！"),e.LoadResourseList()):e.$message.error("添加数据失败");case 5:case"end":return t.stop()}}),t)})))()},showDialog:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.isUpdate=e,!e){r.next=7;break}return r.next=4,d(t.isUpdate);case 4:s=r.sent,o=s.data,t.resourse=o.data;case 7:t.dialogFormVisible=!0;case 8:case"end":return r.stop()}}),r)})))()},saveContent:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isUpdate){t.next=8;break}return t.next=3,l(e.isUpdate,e.resourse);case 3:r=t.sent,s=r.data,2e4===s.code?(e.$message.success("修改成功"),e.LoadResourseList(),e.dialogFormVisible=!1):e.$message.error("修改失败"),t.next=10;break;case 8:e.addResourse(),e.dialogFormVisible=!1;case 10:case"end":return t.stop()}}),t)})))()},dialogClose:function(){this.resourse={title:"",code:0,url:""}}}},k=w,x=Object(g["a"])(k,s,o,!1,null,null,null);t["default"]=x.exports}}]);
//# sourceMappingURL=chunk-2d0d335b.f9d661ce.js.map